\begin{figure*}
\small
\begin{mathpar}
\inferrule[Skip]{}{
  \triple\post\iskip\post
}

\inferrule[Seq]{
  \triple\pre{\instr_1}\midpoint \\
  \triple\midpoint{\instr_2}\post
}{
  \triple\pre{(\iseq{\instr_1}{\instr_2})}\post
}

\inferrule[MovRR]{}{
  \renewcommand{\bightriplehskip}{}
  \bigvtriple
    {
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto\rgdst\rvdst\rpts
    }
    {\ising{\imov\mvrr\rgsrc\rgdst}}
    {
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto\rgdst\rvsrc\rpts
    }
}

\inferrule[MovMRBase]{}{
  % Cheat on spacing so that Move and Alloca fit on a single line.
 %   (▷ (ir r) ↦ᵣ{q} (num rv)) ∗
  %    (▷ (ir imreg) ↦ᵣ{q} (num maddr)) ∗
   %   (▷ (virt_mapsto maddr  mv  1 ) cr3val)
  \renewcommand{\bightriplehskip}{}
  \bigvtriple
    {
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \ppointsto\rgdst\rvdst\rpts \star
      \pfpointsto\maddr\locsf\qfrac\vpts \star
    }
    {\ising{\imov\mvmro\amode\rgdst}}
    {
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \ppointsto\rgdst\locsf\rpts \star
      \pfpointsto\maddr\locsf\qfrac\vpts \star
    }
}

\inferrule[MovMROff]{}{
  % Cheat on spacing so that Move and Alloca fit on a single line.
  \renewcommand{\bightriplehskip}{}
  \bigvtriple
    {
      \ulcorner \amodeo\imreg\offs \urcorner \star 
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \ppointsto\rgdst\rvdst\rpts \star
      \pfpointsto{\plusaddr\maddr\offs}\locsf\qfrac\vpts \star
    }
    {\ising{\imov\mvmro\amode\rgdst}}
    {
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \ppointsto\rgdst\locsf\rpts \star
      \pfpointsto{\plusaddr\maddr\offs}\locsf\qfrac\vpts \star
    }
}

\inferrule[MovRMBase]{}{
  % Cheat on spacing so that Move and Alloca fit on a single line.
  \renewcommand{\bightriplehskip}{}
  \bigvtriple
    {
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto\maddr\locsf\vpts \star
    }
    {\ising{\imov\mvrmb\rgsrc\amode}}
    {
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto\maddr\rvsrc\vpts \star
    }
}

\inferrule[MovRMOff]{}{
  % Cheat on spacing so that Move and Alloca fit on a single line.
  \renewcommand{\bightriplehskip}{}
  \bigvtriple
      {
      \ulcorner \amodeo\imreg\offs \urcorner \star
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto{\plusaddr\maddr\offs}\locsf\vpts \star
    }
    {\ising{\imov\mvrmo\rgsrc\amode}}
    { 
      \pfpointsto\imreg\maddr\qfrac\rpts \star
      \pfpointsto\rgsrc\rvsrc\qfrac\rpts \star
      \ppointsto{\plusaddr\maddr\offs}\rvsrc\vpts \star
    }
}
\end{mathpar}
\caption{Hoare Triples for Selected Instructions}
\Description{Reasoning Rules}
\label{fig:reasoning}
\end{figure*}
